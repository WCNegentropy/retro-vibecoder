"""
{{ project_name }} - {{ description }}
"""
{% if framework == 'fastapi' %}
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI(
    title="{{ project_name }}",
    description="{{ description }}",
    version="0.1.0",
)

# CORS middleware
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)


@app.get("/")
async def root():
    """Root endpoint."""
    return {"message": "Welcome to {{ project_name }}!"}


@app.get("/health")
async def health_check():
    """Health check endpoint."""
    return {"status": "healthy"}


{% if use_database %}
# Database imports and setup would go here
# from {{ package_name }}.database import engine, Base
# Base.metadata.create_all(bind=engine)
{% endif %}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run("main:app", host="0.0.0.0", port=8000, reload=True)

{% else %}
from flask import Flask, jsonify
from flask_cors import CORS

app = Flask(__name__)
CORS(app)


@app.route("/")
def root():
    """Root endpoint."""
    return jsonify({"message": "Welcome to {{ project_name }}!"})


@app.route("/health")
def health_check():
    """Health check endpoint."""
    return jsonify({"status": "healthy"})


{% if use_database %}
# Database imports and setup would go here
# from {{ package_name }}.database import db
# db.init_app(app)
{% endif %}

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8000, debug=True)
{% endif %}
